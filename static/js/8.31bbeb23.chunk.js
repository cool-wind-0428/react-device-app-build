(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[8],{1196:function(e,a,t){"use strict";t.d(a,"a",(function(){return j}));var n=t(34),r=t(80),l=t(1158),c=t(3),o=t(0),i=t.n(o),s=t(47),u=t(1167),d=t(51),m=t(6);var p=function(e){var a=Object(s.a)(),t=Object(m.c)(Object(d.c)(a.palette.primary.main));return i.a.createElement("div",{className:e.classes.header},e.header&&i.a.createElement(u.a,{theme:t},e.header))},b=t(15),f=t(102),h=t(1186),g=t(1188);var v=function(e){var a=Object(s.a)(),t=Object(m.c)(Object(d.c)(a.palette.primary.main)),n=e.classes;return i.a.createElement(i.a.Fragment,null,e.header&&i.a.createElement(u.a,{theme:t},i.a.createElement("div",{className:Object(c.a)(n.sidebarHeader,e.variant)},e.header)),e.content&&i.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var E=i.a.forwardRef((function(e,a){var t=Object(o.useState)(!1),n=Object(b.a)(t,2),r=n[0],l=n[1],s=e.classes;Object(o.useImperativeHandle)(a,(function(){return{toggleSidebar:u}}));var u=function(){l(!r)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{lgUp:"permanent"===e.variant},i.a.createElement(g.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return u()},disableSwipeToOpen:!0,classes:{root:Object(c.a)(s.sidebarWrapper,e.variant),paper:Object(c.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},i.a.createElement(v,e))),"permanent"===e.variant&&i.a.createElement(h.a,{mdDown:!0},i.a.createElement(f.a,{variant:"permanent",className:Object(c.a)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(c.a)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},i.a.createElement(v,e))))})),x=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),O=i.a.forwardRef((function(e,a){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),l=Object(o.useRef)(null),s=x(e),u=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return i.a.useImperativeHandle(a,(function(){return{rootRef:l,toggleLeftSidebar:function(){t.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),i.a.createElement("div",{className:Object(c.a)(s.root,e.innerScroll&&s.innerScroll),ref:l},i.a.createElement("div",{className:s.topBg}),i.a.createElement("div",{className:"flex container w-full"},d&&i.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:l}),i.a.createElement("div",{className:Object(c.a)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",u&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},i.a.createElement(p,{header:e.header,classes:s}),i.a.createElement("div",{className:Object(c.a)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&i.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&i.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),u&&i.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));O.defaultProps={};var j=i.a.memo(O)},1242:function(e,a,t){"use strict";t.r(a);var n=t(1196),r=t(231),l=t(0),c=t.n(l),o=t(110),i=t(34),s=t(22),u=t.n(s),d=t(44),m=t(21),p=t(16),b=t.n(p),f=(t(36),t(40)),h=(Object(m.b)("customersApp/users/getUser",function(){var e=Object(d.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/customers-app/user",{params:a});case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),Object(m.b)("customersApp/users/getUsers",Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/customers-app/users");case 2:return a=e.sent,e.next=5,a.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))))),g=Object(m.b)("customersApp/users/saveUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,e.next=3,b.a.post("/api/customers-app/user/save",a);case 3:return r=e.sent,e.next=6,r.data;case 6:e.sent,n(Object(f.c)({message:"Data saved"})),n(h());case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),v=Object(m.b)("customersApp/users/updateUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,e.next=3,b.a.post("/api/customers-app/user/update",a);case 3:return r=e.sent,e.next=6,r.data;case 6:e.sent,n(h());case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),E=Object(m.b)("customersApp/users/removeUsers",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,e.next=3,b.a.post("/api/customers-app/remove-users",{ids:a});case 3:return r=e.sent,e.next=6,r.data;case 6:e.sent,n(h());case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),x=Object(m.c)({}),O=x.getSelectors((function(e){return e.customersApp.users})),j=O.selectAll,y=(O.selectById,Object(m.d)({name:"customersApp/users",initialState:x.getInitialState({searchText:"",addUserDialog:{type:"new",props:{open:!1},data:null},userProfileDialog:{type:"edit",props:{open:!1},data:null}}),reducers:{setUsersSearchText:{reducer:function(e,a){e.searchText=a.payload},prepare:function(e){return{payload:e.target.value||""}}},openUserDialog:function(e,a){e.addUserDialog={type:"new",props:{open:!0},data:a.payload}},closeUserDialog:function(e,a){e.addUserDialog={type:"new",props:{open:!1},data:null}},openUserProfileDialog:function(e,a){e.addUserDialog={type:"edit",props:{open:!0},data:a.payload}},closeUserProfileDialog:function(e,a){e.addUserDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:Object(i.a)({},h.fulfilled,x.setAll)})),w=y.actions,N=w.setUsersSearchText,S=w.openUserDialog,k=w.closeUserDialog,C=w.openUserProfileDialog,P=w.closeUserProfileDialog,I=y.reducer,D=Object(m.b)("customersApp/products/getProducts",Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/product-app/products");case 2:return a=e.sent,e.next=5,a.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),U=(Object(m.b)("customersApp/products/removeProducts",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,e.next=3,b.a.post("/api/product-app/remove-products",{productIds:a});case 3:return r=e.sent,e.next=6,r.data;case 6:e.sent,n(D());case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),Object(m.c)({})),A=U.getSelectors((function(e){return e.customersApp.products})),T=A.selectAll,R=(A.selectById,Object(m.d)({name:"customersApp/products",initialState:U.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:function(e,a){e.searchText=a.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:Object(i.a)({},D.fulfilled,U.setAll)})),W=(R.actions.setProductsSearchText,R.reducer),B=Object(o.c)({users:I,products:W}),H=t(123),V=t(1165),z=t(1160),F=t(1110),q=t(198),M=t(1167),_=t(199),L=t(6),J=t(33),Y=t(51);var G=function(e){var a=Object(L.b)(),t=Object(L.c)((function(e){return e.customersApp.users.searchText})),n=Object(L.c)(Y.e);return c.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(H.a,{animation:"transition.expandIn",delay:300},c.a.createElement(z.a,{className:"text-32"},"people")),c.a.createElement(H.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(_.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Customers"))),c.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},c.a.createElement(M.a,{theme:n},c.a.createElement(H.a,{animation:"transition.slideDownIn",delay:300},c.a.createElement(q.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8 shadow"},c.a.createElement(z.a,{color:"action"},"search"),c.a.createElement(F.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(N(e))}}))))),c.a.createElement(H.a,{animation:"transition.slideRightIn",delay:300},c.a.createElement(V.a,{component:J.a,className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:function(){a(S())}},c.a.createElement("span",{className:"hidden sm:flex"},"Add"))))},K=t(15),Q=t(80),X=t(7),Z=t(1187),$=t(1233),ee=t(1234),ae=t(1232),te=t(1246),ne=t(1231),re=t(46),le=t(399),ce=(t(398),t(1109)),oe=t(1179),ie=t(1172),se=t(583),ue=t(1162),de=t(1113),me=t(1158),pe=t(1230),be=t(1247),fe=t(3),he=[{id:"displayName",align:"center",disablePadding:!1,label:"User Name",sort:!0},{id:"phone",align:"center",disablePadding:!1,label:"Phone Number",sort:!0},{id:"email",align:"center",disablePadding:!1,label:"Email",sort:!0},{id:"device",align:"center",disablePadding:!1,label:"Device",sort:!0}],ge=Object(me.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var ve=function(e){var a=ge(e),t=e.selectedProductIds,n=t.length,r=Object(l.useState)(null),o=Object(K.a)(r,2),i=o[0],s=o[1],u=Object(L.b)();function d(){s(null)}return c.a.createElement(pe.a,null,c.a.createElement(ne.a,{className:"h-64"},c.a.createElement(ae.a,{padding:"none",className:"w-40 md:w-64 text-center z-99"},c.a.createElement(Z.a,{indeterminate:n>0&&n<e.rowCount,checked:0!==e.rowCount&&n===e.rowCount,onChange:e.onSelectAllClick}),n>0&&c.a.createElement("div",{className:Object(fe.a)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",a.actionsButtonWrapper)},c.a.createElement(ce.a,{"aria-owns":i?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},c.a.createElement(z.a,null,"more_horiz")),c.a.createElement(se.a,{id:"selectedProductsMenu",anchorEl:i,open:Boolean(i),onClose:d},c.a.createElement(de.a,null,c.a.createElement(ue.a,{onClick:function(){u(E(t)),e.onMenuItemClick(),d()}},c.a.createElement(oe.a,{className:"min-w-40"},c.a.createElement(z.a,null,"delete")),c.a.createElement(ie.a,{primary:"Remove"})))))),he.map((function(a){return c.a.createElement(ae.a,{className:"p-1 md:p-1 text-xs",key:a.id,align:a.align,padding:a.disablePadding?"none":"default",sortDirection:e.order.id===a.id&&e.order.direction},c.a.createElement(be.a,{active:e.order.id===a.id,direction:e.order.direction,onClick:(t=a.id,function(a){e.onRequestSort(a,t)})},a.label));var t}),this)))},Ee=t(1155),xe=t(1216),Oe=t(1215),je=t(1238),ye=t(1237),we=t(1218),Ne=t(1184);var Se=Object(re.j)((function(e){var a=Object(L.b)(),t=Object(L.c)(T),n=Object(L.c)(j),r=Object(L.c)((function(e){return e.customersApp.users.searchText})),o=Object(L.c)((function(e){return e.auth.user})),i=Object(l.useState)(!0),s=Object(K.a)(i,2),u=s[0],d=s[1],m=Object(l.useState)([]),p=Object(K.a)(m,2),b=p[0],f=p[1],g=Object(l.useState)(n),v=Object(K.a)(g,2),x=v[0],O=v[1],y=c.a.useState(!1),w=Object(K.a)(y,2),N=w[0],S=w[1],k=Object(l.useState)(0),P=Object(K.a)(k,2),I=P[0],U=P[1],A=Object(l.useState)(10),R=Object(K.a)(A,2),W=R[0],B=R[1],H=Object(l.useState)({direction:"asc",id:null}),z=Object(K.a)(H,2),F=z[0],q=z[1],M=function(){S(!1)};function _(e,a){var t=a,n="desc";F.id===a&&"desc"===F.direction&&(n="asc"),q({direction:n,id:t})}function J(e){e.target.checked?f(x.map((function(e){return e.id}))):f([])}function Y(){f([])}return Object(l.useEffect)((function(){a(D()),a(h()).then((function(){return d(!1)}))}),[a]),Object(l.useEffect)((function(){var e;e=X.a.filter(n,(function(e){return e.userId===o.uuid})),0!==r.length?(O(X.a.filter(e,(function(e){return e.displayName.toLowerCase().includes(r.toLowerCase())}))),U(0)):O(e)}),[n,r]),u?c.a.createElement(le.a,null):0===x.length?c.a.createElement("div",{className:"w-full flex flex-col"},c.a.createElement(Ne.a,{utils:we.a},c.a.createElement(Q.a,{className:"flex-grow overflow-x-auto"},c.a.createElement($.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle"},c.a.createElement(ve,{selectedProductIds:b,order:F,onSelectAllClick:J,onRequestSort:_,rowCount:x.length,onMenuItemClick:Y}))))):c.a.createElement("div",{className:"w-full flex flex-col"},c.a.createElement(Ne.a,{utils:we.a},c.a.createElement(Q.a,{className:"flex-grow overflow-x-auto"},c.a.createElement($.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",size:"small"},c.a.createElement(ve,{selectedProductIds:b,order:F,onSelectAllClick:J,onRequestSort:_,rowCount:x.length,onMenuItemClick:Y}),c.a.createElement(ee.a,null,X.a.orderBy(x,[F.id],[F.direction]).slice(I*W,I*W+W).map((function(e,n){if(!Object.keys(e).includes("role")||"admin"!==e.role[0]){var r=-1!==b.indexOf(e.id);return c.a.createElement(ne.a,{className:"h-64 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,key:n,selected:r,onClick:function(){return a(C(e))}},c.a.createElement(ae.a,{className:"w-40 md:w-64 text-center",padding:"none"},c.a.createElement(Z.a,{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(a){return function(e,a){var t=b.indexOf(a),n=[];-1===t?n=n.concat(b,a):0===t?n=n.concat(b.slice(1)):t===b.length-1?n=n.concat(b.slice(0,-1)):t>0&&(n=n.concat(b.slice(0,t),b.slice(t+1))),f(n)}(0,e.id)}})),c.a.createElement(ae.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},e.displayName),c.a.createElement(ae.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},e.phone),c.a.createElement(ae.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},e.email),c.a.createElement(ae.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},X.a.map(X.a.filter(t,(function(a){return e.devices.includes(a.id)})),(function(e){return e.name})).join(", ")))}}))))),c.a.createElement(te.a,{className:"flex-shrink-0 border-t-1",component:"div",count:x.length,rowsPerPage:W,page:I,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){U(a)},onChangeRowsPerPage:function(e){B(e.target.value)}}),c.a.createElement(Ee.a,{open:N,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(ye.a,{id:"alert-dialog-title"},"Are you really revoke this user?"),c.a.createElement(Oe.a,null,c.a.createElement(je.a,{id:"alert-dialog-description"},"You will lost this users data.")),c.a.createElement(xe.a,null,c.a.createElement(V.a,{onClick:M,color:"primary"},"No"),c.a.createElement(V.a,{onClick:function(){S(!1),a(E(""))},color:"primary",autoFocus:!0},"Yes")))))})),ke=t(18),Ce=t(9),Pe=t(131),Ie=t(148),De=t(1168),Ue=t(1190),Ae=t(1178),Te=t(1169),Re=t(1177),We=t(1120),Be=t(1116),He=t(1123),Ve=Object(me.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}));function ze(e){var a=Ve(),t=c.a.useState(""),n=Object(K.a)(t,2),r=(n[0],n[1],e.id,e.data),l=(e.variant,e.value),o=e.handleChangeValue,s=e.validation,u=(e.type,e.willvalidation),d=e.validate,m=e.label,p=e.readOnly;return c.a.createElement(Be.a,{variant:"outlined",className:a.formControl,error:!!d},c.a.createElement(We.a,{id:"demo-simple-select-outlined-label"},m),c.a.createElement(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:l,onChange:function(e){var a,t;u?e.target.value?o((a={},Object(i.a)(a,s,e.target.value),Object(i.a)(a,"".concat(s,"Validation"),!1),a)):o((t={},Object(i.a)(t,s,e.target.value),Object(i.a)(t,"".concat(s,"Validation"),!0),t)):o(Object(i.a)({},s,e.target.value))},label:"Age",readOnly:p},r.map((function(e,a){return c.a.createElement(ue.a,{value:e.value,key:a},e.item)}))))}var Fe={id:"",userId:"",displayName:"",email:"",emailValidation:!1,phone:"",role:"customer",devices:[]},qe=[{item:"Admin",value:"admin"}],Me=[{item:"Admin",value:"admin"},{item:"Service Man",value:"producer"},{item:"Customer",value:"customer"}];var _e=function(e){var a=Object(L.b)(),t=Object(L.c)((function(e){return e.customersApp.users.addUserDialog})),n=Object(L.c)((function(e){return e.auth.user})),r=Object(L.c)(T),o=Object(l.useState)(Me),i=Object(K.a)(o,2),s=i[0],u=i[1],d=Object(l.useState)(null),m=Object(K.a)(d,2),p=m[0],b=m[1];Object(l.useEffect)((function(){"producer"===n.role[0]&&u(qe)}),[n]);var h=Object(Pe.c)(Fe),E=h.form,x=h.handleChange,O=h.setForm,j=Object(l.useCallback)((function(){"edit"===t.type&&t.data&&O(Object(Ce.a)({},t.data)),"new"===t.type&&O(Object(Ce.a)(Object(Ce.a)({},Fe),{},{id:Ie.a.generateGUID(),userId:n.uuid}))}),[t.data,t.type,O]),y=c.a.useState(!0),w=Object(K.a)(y,2);function N(){return t.type,a(k())}function S(e){e.preventDefault(),"new"===t.type?a(g(Object(Ce.a)({},E))).then(a(Object(f.c)({message:"Invitation sent to email. Please check the email!"}))):a(v(Object(Ce.a)({},E))).then(a(Object(f.c)({message:"User data updated"}))),N()}function C(e,a){e.stopPropagation(),O(X.a.set(Object(Ce.a)(Object(Ce.a)({},E),{},{devices:E.devices.includes(a)?E.devices.filter((function(e){return e!==a})):[].concat(Object(ke.a)(E.devices),[a])})))}return w[0],w[1],Object(l.useEffect)((function(){t.props.open&&j()}),[t.props.open,j]),c.a.createElement(Ee.a,Object.assign({classes:{paper:"m-24 rounded-8"},W:!0},t.props,{onClose:N,fullWidth:!0,maxWidth:"xs"}),c.a.createElement(De.a,{position:"static",className:"shadow-md"},c.a.createElement(Te.a,{className:"flex w-full"},c.a.createElement(_.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"New User":"Edit User"))),c.a.createElement("form",{noValidate:!0,onSubmit:S,className:"flex flex-col md:overflow-hidden"},c.a.createElement(Oe.a,{classes:{root:"p-24"}},c.a.createElement("div",{className:"flex"},c.a.createElement(Ae.a,{className:"mb-24",label:"Name",autoFocus:!0,id:"displayName",name:"displayName",value:E.displayName,onChange:x,variant:"outlined",required:!0,fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement(Ae.a,{className:"mb-24",label:"Email",id:"email",name:"email",value:E.email,onChange:x,variant:"outlined",required:!0,fullWidth:!0,InputProps:{readOnly:"new"!==t.type}})),c.a.createElement("div",{className:"flex"},c.a.createElement(Ae.a,{className:"mb-24",label:"Phone",id:"phone",name:"phone",value:E.phone,onChange:x,variant:"outlined",required:!0,fullWidth:!0})),c.a.createElement("div",{className:"flex"},c.a.createElement(ze,{id:"outlined-basic",label:"Role",data:s,variant:"outlined",value:E.role,validation:"role",handleChangeValue:function(e){O(Object(Ce.a)(Object(Ce.a)({},E),e))},willvalidation:!1,size:100,readOnly:!0})),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement("h3",{className:"self-center"},"Select Device:"),c.a.createElement(ce.a,{"aria-owns":p?"label-menu":null,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)}},c.a.createElement(z.a,null,"label")),c.a.createElement(se.a,{id:"label-menu",anchorEl:p,open:Boolean(p),onClose:function(e){b(null)}},r.length>0&&X.a.filter(r,(function(e){return e.categories.includes(n.id)}))&&X.a.filter(r,(function(e){return e.categories.includes(n.id)})).map((function(e){return c.a.createElement(ue.a,{onClick:function(a){return C(a,e.id)},key:e.id},c.a.createElement(oe.a,{className:"min-w-24"},c.a.createElement(z.a,{color:"action"},E.devices.includes(e.id)?"check_box":"check_box_outline_blank")),c.a.createElement(ie.a,{className:"mx-8",primary:e.name,disableTypography:!0}),c.a.createElement(oe.a,{className:"min-w-24"},c.a.createElement(z.a,{style:{color:e.color},color:"action"},"label")))})))),c.a.createElement(Re.a,{className:"mx-0"}),c.a.createElement("div",{className:"flex"},E.devices.length>0&&c.a.createElement("div",{className:"flex flex-wrap w-full px-12 sm:px-0 mb-16"},E.devices.map((function(e){return c.a.createElement(Ue.a,{label:X.a.find(r,{id:e}).name,onDelete:function(a){return C(a,e)},className:"mx-4 my-4",classes:{label:"px-8"},key:e})}))))),c.a.createElement(xe.a,{className:"justify-between p-8"},c.a.createElement("div",{className:"px-16"},c.a.createElement(V.a,{variant:"contained",color:"primary",onClick:S,type:"submit",disabled:!(E.email.length>0&&E.role.length>0)},"Save")),c.a.createElement("div",{className:"px-16"},c.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){N()}},"Cancel")))))},Le={id:"",name:"",email:"",emailValidation:!1,role:"",roleValidation:!1};var Je=function(e){var a=Object(L.b)(),t=Object(L.c)((function(e){return e.customersApp.users.userProfileDialog})),n=Object(Pe.c)(Le),r=n.form,o=(n.handleChange,n.setForm),i=Object(l.useCallback)((function(){t.data&&o(Object(Ce.a)({},t.data))}),[t.data,t.type,o]);function s(){a(P())}return Object(l.useEffect)((function(){t.props.open&&i()}),[t.props.open,i]),c.a.createElement(Ee.a,Object.assign({classes:{paper:"m-24 rounded-8"}},t.props,{onClose:s,fullWidth:!0,maxWidth:"xs"}),c.a.createElement(De.a,{position:"static",className:"shadow-md"},c.a.createElement(Te.a,{className:"flex w-full"},c.a.createElement(_.a,{variant:"subtitle1",color:"inherit"},"User Profile"))),c.a.createElement("form",{noValidate:!0,className:"flex flex-col md:overflow-hidden"},c.a.createElement(Oe.a,{classes:{root:"p-24"}},c.a.createElement("div",{className:"flex"},c.a.createElement(Ae.a,{className:"mb-24",label:"Name",autoFocus:!0,id:"name",name:"name",value:r.displayName,variant:"outlined",required:!0,fullWidth:!0,inputProps:{readOnly:Boolean(!0),disabled:Boolean(!0)}})),c.a.createElement("div",{className:"flex"},c.a.createElement(Ae.a,{className:"mb-24",label:"Email",autoFocus:!0,id:"email",name:"email",value:r.email,variant:"outlined",required:!0,fullWidth:!0,inputProps:{readOnly:Boolean(!0),disabled:Boolean(!0)}}))),c.a.createElement(xe.a,{className:"justify-between p-8"},c.a.createElement(ce.a,{onClick:function(){s()}},c.a.createElement(z.a,null,"delete")))))};a.default=Object(r.a)("customersApp",B)((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(n.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:c.a.createElement(G,null),content:c.a.createElement(Se,null),innerScroll:!0}),c.a.createElement(_e,null),c.a.createElement(Je,null))}))}}]);